<!DOCTYPE html>
<html>
  <head>
    <title>Rock Dodger!</title>
    <link rel="stylesheet" type="text/css" href="node_modules/mocha/mocha.css">
    <link rel="stylesheet" type="text/css" href="index.css">
  </head>

  <body>
    <div id="game">
      <a id="start" href="javascript:start()">START</a>
    <div id="dodger" style="bottom: 0px; left: 180px;"></div>
    </div>
    <script src="index.js"></script>

    <!-- Open this file and call `mocha.run()` in console to run tests -->
    <div id="mocha"></div>
    <script src="node_modules/mocha/mocha.js"></script>
    <script src="node_modules/expect/umd/expect.min.js"></script>
function checkCollision(rock) {
  // implement me!
  // use the comments below to guide you!
   const top = positionToInteger(rock.style.top);
   
   const dodgerRightEdge = dodgerLeftEdge + 40
   // rocks are 20px high
    const dodgerLeftEdge = positionToInteger(DODGER.style.left)

    // FIXME: The DODGER is 40 pixels wide -- how do we get the right edge?
    
    
      const dodgerRightEdge = dodgerLeftEdge + 40

    const rockLeftEdge = positionToInteger(rock.style.left)

    // FIXME: The rock is 20 pixel's wide -- how do we get the right edge?
       const rockRightEdge = rockLeftEdge + 20
    /**
      * Think about it -- what's happening here?
      * There's been a collision if one of three things is true:
      * 1. The rock's left edge is < the DODGER's left edge,
      *    and the rock's right edge is > the DODGER's left edge;
      * 2. The rock's left edge is > the DODGER's left edge,
      *    and the rock's right edge is < the DODGER's right edge;
      * 3. The rock's left edge is < the DODGER's right edge,
      *    and the rock's right edge is > the DODGER's right edge
      */
        if (rockLeftEdge <= dodgerLeftEdge && rockRightEdge >= dodgerLeftEdge) {
            return true
        } else if(rockLeftEdge >= dodgerLeftEdge && rockRightEdge <= dodgerLeftEdge) {
            return true
        } else if (rockLeftEdge <= dodgerRightEdge && rockRightEdge >= dodgerRightEdge) {
            return true
        } else {
            return false
        }
   }
}
function createRock(x) {
 const rock = document.createElement('div')
 rock.className = 'rock'
  rock.style.left = `${x}px`
    // Hmmm, why would we have used `var` here?
  var top = 0
  rock.style.top = top

  /**
   * Now that we have a rock, we'll need to append
   * it to GAME and move it downwards.
   */
    GAME.appendChild(rock);
  /**
   * This function moves the rock. (2 pixels at a time
   * seems like a good pace.)
   */
   function moveRock() {

     if (checkCollision(rock)) {
       return endGame();
     }
     /**
      * Otherwise, if the rock hasn't reached the bottom of
      * the GAME, we want to move it again.
      */
     if(top < GAME_HEIGHT) {
         top += 2;
         rock.style.top = `${top}px`;
     }
     rock.remove();

   }
   window.requestAnimationFrame(moveRock);
   ROCKS.push(rock);
   return rock;
}

/**
* Finally, alert "YOU LOSE!" to the player.
 */
function endGame() {
   clearInterval(gameInterval);
    ROCKS.forEach(function(rock){
        rock.remove();
    });
    document.removeEventListener('keydown', moveDodger);
    alert("YOU LOSE");
    return false;
}

function moveDodger(e) {
 * we've declared for you above.)
   * And be sure to use the functions declared below!
   */
     if(e && e.which == LEFT_ARROW) {
      e.stopPropagation();
      e.preventDefault();
      moveDodgerLeft();
  }
  if(e && e.which == RIGHT_ARROW) {
      e.preventDefault();
      e.stopPropagation();
      moveDodgerRight();
  }
  document.getElementById('game').addEventListener('keydown', moveDodger);
}

function moveDodgerLeft() {
* This function should move DODGER to the left
   * (mabye 4 pixels?). Use window.requestAnimationFrame()!
   */
  var elm = document.getElementById('dodger');
  var left = positionToInteger(elm.style.left);
  if(left >= 4) {
     return elm.style.left = `${left - 4 }px`;
  }


}

function moveDodgerRight() {
 * This function should move DODGER to the right
   * (mabye 4 pixels?). Use window.requestAnimationFrame()!
   */
   var elm = document.getElementById('dodger');
   var left = positionToInteger(elm.style.left);
   if(left <= 356) {
       return elm.style.left = `${left + 4 }px`;
   }

}

/**